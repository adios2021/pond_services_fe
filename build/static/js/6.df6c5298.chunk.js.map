{"version":3,"sources":["views/LoginPage/LoginPage.js","views/LoginPage/index.js"],"names":["useStyles","makeStyles","theme","root","paddingLeft","paddingRight","paddingBottom","flexBasis","breakpoints","down","spacing","title","marginTop","error","textField","signInButton","margin","forgotPassword","float","LoginPage","props","login","classes","form","useRef","useState","email","password","submitted","formValues","setFormValues","message","type","open","notificationAlertProps","setNotificationAlertProps","useSelector","AuthPageReducer","isPending","useEffect","handleNotificationToggle","handleInputChange","e","a","target","name","value","className","ref","onSubmit","preventDefault","Typography","variant","fullWidth","label","onChange","validators","errorMessages","Button","color","size","disabled","Link","component","RouterLink","to","token","localStorage","getItem","history","createBrowserHistory","push","window","location","reload","connect","dispatch","opts"],"mappings":"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","file":"static/js/6.df6c5298.chunk.js","sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tButton,\r\n\tLink,\r\n\tTypography,\r\n} from '@material-ui/core';\r\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\r\n\r\nimport { Page, Loader, NotificationAlert } from '../../components/';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n\t\t\tpaddingLeft: 100,\r\n\t\t\tpaddingRight: 100,\r\n\t\t\tpaddingBottom: 125,\r\n\t\t\tflexBasis: 700,\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\t}\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    error: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n    },\r\n    signInButton: {\r\n\t\t\tmargin: theme.spacing(2, 0)\r\n    },\r\n    forgotPassword: {\r\n\t\t\tfloat: 'right',\r\n    },\r\n}));\r\n\r\nconst LoginPage = (props) => {\r\n\tconst { login } = props;\r\n\tconst classes = useStyles();\r\n\tconst form = useRef('form');\r\n\r\n\tconst [ formValues, setFormValues ] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tsubmitted: false,\r\n\t});\r\n\r\n\tconst [notificationAlertProps, setNotificationAlertProps] = useState({\r\n\t\tmessage: '',\r\n\t\ttype: '',\r\n\t\topen: false,\r\n\t});\r\n\r\n\t\r\n\tconst { isPending, error } = useSelector(({ AuthPageReducer }) => AuthPageReducer);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error != null) {\r\n\t\t\tsetNotificationAlertProps({\r\n\t\t\t\tmessage: error.error,\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\topen: true,\r\n\t\t\t\thandleNotificationToggle: handleNotificationToggle,\r\n\t\t\t});\r\n\t\t}\r\n\t}, [error])\r\n\r\n\t\r\n\t//closes notification modal\r\n\tconst handleNotificationToggle = () => {\r\n\t\tsetNotificationAlertProps({\r\n\t\t\tmessage: '',\r\n\t\t\ttype: '',\r\n\t\t\topen: false,\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleInputChange = async (e) => {\r\n\t\tconst {name, value} = e.target;\r\n\r\n\t\tsetFormValues({\r\n\t\t\t...formValues, \r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tsetFormValues({\r\n\t\t\t...formValues, \r\n\t\t\tsubmitted: false\r\n\t\t});\r\n\r\n\t\tlogin(formValues);\r\n\t\t// console.log('values', formValues)\r\n\t\t// setTimeout(() => setFormValues({\r\n\t\t//     email: '',\r\n\t\t//     password: '',\r\n\t\t//     submitted: false\r\n\t\t// }), 5000)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isPending && <Loader />}\r\n\t\t\t<Page title=\"Sign In\" className={classes.root}>\r\n\t\t\t\t<ValidatorForm \r\n\t\t\t\t\tref={form}\r\n\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography className={classes.title} variant=\"h2\">\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<TextValidator \r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tvalue={formValues.email}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\tvalidators={['required', 'isEmail']}\r\n\t\t\t\t\t\terrorMessages={['Email field is required', 'Email is not valid']}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextValidator \r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tvalue={formValues.password}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\tvalidators={['required']}\r\n\t\t\t\t\t\terrorMessages={['Password field is required']}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.signInButton}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tdisabled={formValues.submitted}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSIGN IN Updated\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Typography color=\"textSecondary\" variant=\"body1\">\r\n\t\t\t\t\t\tDon't have an account?{' '}\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tcomponent={RouterLink}\r\n\t\t\t\t\t\t\tto=\"/sign-up\" \r\n\t\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tcomponent={RouterLink}\r\n\t\t\t\t\t\t\tclassName={classes.forgotPassword}\r\n\t\t\t\t\t\t\tto=\"/forgot-password\" \r\n\t\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tForgot password\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t\t<NotificationAlert {...notificationAlertProps} />\r\n\t\t\t</Page>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nLoginPage.propTypes = {\r\n\thistory: PropTypes.object,\r\n}\r\n\r\nexport default LoginPage;\r\n\r\n","import { connect } from 'react-redux';\r\nimport { login } from '../../actions/AuthPage';\r\nimport LoginPage from './LoginPage';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nconst token = localStorage.getItem('pond_services');\r\n\r\nconst history = createBrowserHistory();\r\nif (token) {\r\n  history.push('/dashboard');\r\n  window.location.reload();\r\n}\r\n\r\nconst mapsDispatchToProps = (dispatch) => ({\r\n    login(opts) {\r\n        dispatch(login(opts));\r\n    }\r\n});\r\n\r\nexport default connect(null, mapsDispatchToProps)(LoginPage)"],"sourceRoot":""}